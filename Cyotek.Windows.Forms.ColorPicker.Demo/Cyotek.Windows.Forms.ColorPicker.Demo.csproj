<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net48</TargetFramework>
    <UseWindowsForms>true</UseWindowsForms>
    <RootNamespace>Cyotek.Windows.Forms.Demo</RootNamespace>
    <OutputType>WinExe</OutputType>
    <AssemblyName>demo</AssemblyName>
  </PropertyGroup>

  <PropertyGroup>
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
    <GenerateAssemblyVersionAttribute>false</GenerateAssemblyVersionAttribute>
  </PropertyGroup>

  <PropertyGroup>
    <ApplicationIcon>..\res\icon.ico</ApplicationIcon>
    <ApplicationManifest>app.manifest</ApplicationManifest>
  </PropertyGroup>

  <PropertyGroup>
    <Company>Cyotek Ltd</Company>
  </PropertyGroup>

  <PropertyGroup>
    <!-- Temporary -->
    <NoWarn>1701;1702;612;618</NoWarn>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="CommonMark.NET" Version="0.15.1" />
    <PackageReference Include="HtmlRenderer.Core" Version="1.5.0.6" />
    <PackageReference Include="HtmlRenderer.WinForms" Version="1.5.0.6" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Cyotek.Windows.Forms.ColorPicker\Cyotek.Windows.Forms.ColorPicker.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="..\Cyotek.Windows.Forms.ColorPicker\ColorPreviewBox.cs" Link="ColorPreviewBox.cs" />
  </ItemGroup>

  <ItemGroup>
    <Compile Update="ColorGridEditingDemoForm.cs" />
    <Compile Update="ExternalPalettesDemoForm.cs" />
  </ItemGroup>

  <ItemGroup>
    <Compile Update="Properties\Resources.Designer.cs">
      <Generator></Generator>
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>Resources.resx</DependentUpon>
    </Compile>
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Update="Properties\Resources.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Resources.Designer.cs</LastGenOutput>
    </EmbeddedResource>
  </ItemGroup>

  <ItemGroup>
    <None Include="..\res\icon.ico" Link="icon.ico" />
    <None Include="..\res\icon-64.png" Link="Resources\icon-64.png" />
    <None Include="Resources\divider.png" />
    <None Include="Resources\eyedropper.png" />
    <None Include="Resources\fill.png" />
    <None Include="Resources\markdownpad-github.css" />
    <None Include="Resources\nub-outline.png" />
    <None Include="Resources\nub.png" />
    <None Include="Resources\text.png" />
  </ItemGroup>

  <ItemGroup>
    <None Include="..\CHANGELOG.md" Link="docs\CHANGELOG.md">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\README.md" Link="docs\README.md">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\LICENSE.txt" Link="docs\LICENSE.txt">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-coloreditorcontrol.png" Link="docs\cp-coloreditorcontrol.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-coloreditormanager.gif" Link="docs\cp-coloreditormanager.gif">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-colorgridcontrol.png" Link="docs\cp-colorgridcontrol.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-colorpickerdialog.png" Link="docs\cp-colorpickerdialog.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-colorslidercontrols.png" Link="docs\cp-colorslidercontrols.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-colorwheelcontrol.png" Link="docs\cp-colorwheelcontrol.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\cp-screencolorpickercontrol.png" Link="docs\cp-screencolorpickercontrol.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\res\icon-32.png" Link="docs\icon-32.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <ItemGroup>
    <None Update="palettes\*">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <!-- Don't clutter the Solution Explorer with NCrunch setting files -->
  <ItemGroup>
    <None Remove="*.ncrunchproject" />
  </ItemGroup>

  <!-- Workarounds for .NET 3.5 compilation via dotnet -->
  <PropertyGroup>
    <!-- https://github.com/dotnet/msbuild/issues/1333#issuecomment-296346352 -->
    <FrameworkPathOverride Condition="'$(TargetFramework)' == 'net35'">$(MSBuildProgramFiles32)\Reference Assemblies\Microsoft\Framework\.NETFramework\v3.5\Profile\Client</FrameworkPathOverride>
    <!-- https://github.com/dotnet/msbuild/issues/5985#issuecomment-752735876 -->
    <AutomaticallyUseReferenceAssemblyPackages Condition=" '$(TargetFramework)' == 'net35' ">false</AutomaticallyUseReferenceAssemblyPackages>
  </PropertyGroup>

</Project>